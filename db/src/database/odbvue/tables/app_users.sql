CREATE TABLE odbvue.app_users (
    id        NUMBER(19, 0) GENERATED BY DEFAULT AS IDENTITY NOT NULL ENABLE,
    uuid      CHAR(32 CHAR) DEFAULT lower(sys_guid()) NOT NULL ENABLE,
    status    CHAR(1 CHAR) DEFAULT 'N' NOT NULL ENABLE,
    username  VARCHAR2(240 CHAR) NOT NULL ENABLE,
    password  VARCHAR2(240 CHAR) NOT NULL ENABLE,
    fullname  VARCHAR2(240 CHAR) NOT NULL ENABLE,
    created   TIMESTAMP(6) DEFAULT systimestamp NOT NULL ENABLE,
    attempts  NUMBER(10, 0) DEFAULT 0 NOT NULL ENABLE,
    accessed  TIMESTAMP(6),
    attempted TIMESTAMP(6)
);

ALTER TABLE odbvue.app_users
    ADD CONSTRAINT csc_app_users_status
        CHECK ( status IN ( 'A', 'D', 'N' ) ) ENABLE;

ALTER TABLE odbvue.app_users ADD PRIMARY KEY ( id )
    USING INDEX ENABLE;

ALTER TABLE odbvue.app_users ADD UNIQUE ( uuid )
    USING INDEX ENABLE;


-- sqlcl_snapshot {"hash":"b8d490881c6b762d537e73fc89b710c873272b30","type":"TABLE","name":"APP_USERS","schemaName":"ODBVUE","sxml":"\n  <TABLE xmlns=\"http://xmlns.oracle.com/ku\" version=\"1.0\">\n   <SCHEMA>ODBVUE</SCHEMA>\n   <NAME>APP_USERS</NAME>\n   <RELATIONAL_TABLE>\n      <COL_LIST>\n         <COL_LIST_ITEM>\n            <NAME>ID</NAME>\n            <DATATYPE>NUMBER</DATATYPE>\n            <PRECISION>19</PRECISION>\n            <SCALE>0</SCALE>\n            <IDENTITY_COLUMN>\n               <SCHEMA>ODBVUE</SCHEMA>\n               \n            <DEFAULT>SYSTIMESTAMP</DEFAULT>\n            <NOT_NULL></NOT_NULL>\n         </COL_LIST_ITEM>\n         <COL_LIST_ITEM>\n            <NAME>ATTEMPTS</NAME>\n            <DATATYPE>NUMBER</DATATYPE>\n            <PRECISION>10</PRECISION>\n            <SCALE>0</SCALE>\n            <DEFAULT>0</DEFAULT>\n            <NOT_NULL></NOT_NULL>\n         </COL_LIST_ITEM>\n         <COL_LIST_ITEM>\n            <NAME>ACCESSED</NAME>\n            <DATATYPE>TIMESTAMP</DATATYPE>\n            <SCALE>6</SCALE>\n         </COL_LIST_ITEM>\n         <COL_LIST_ITEM>\n            <NAME>ATTEMPTED</NAME>\n            <DATATYPE>TIMESTAMP</DATATYPE>\n            <SCALE>6</SCALE>\n         </COL_LIST_ITEM>\n      </COL_LIST>\n      <CHECK_CONSTRAINT_LIST>\n         <CHECK_CONSTRAINT_LIST_ITEM>\n            <NAME>CSC_APP_USERS_STATUS</NAME>\n            <CONDITION>status IN ('A', 'D', 'N')</CONDITION>\n         </CHECK_CONSTRAINT_LIST_ITEM>\n      </CHECK_CONSTRAINT_LIST>\n      <PRIMARY_KEY_CONSTRAINT_LIST>\n         <PRIMARY_KEY_CONSTRAINT_LIST_ITEM>\n            <COL_LIST>\n               <COL_LIST_ITEM>\n                  <NAME>ID</NAME>\n               </COL_LIST_ITEM>\n            </COL_LIST>\n            <USING_INDEX></USING_INDEX>\n         </PRIMARY_KEY_CONSTRAINT_LIST_ITEM>\n      </PRIMARY_KEY_CONSTRAINT_LIST>\n      <UNIQUE_KEY_CONSTRAINT_LIST>\n         <UNIQUE_KEY_CONSTRAINT_LIST_ITEM>\n            <COL_LIST>\n               <COL_LIST_ITEM>\n                  <NAME>UUID</NAME>\n               </COL_LIST_ITEM>\n            </COL_LIST>\n            <USING_INDEX></USING_INDEX>\n         </UNIQUE_KEY_CONSTRAINT_LIST_ITEM>\n      </UNIQUE_KEY_CONSTRAINT_LIST>\n      <DEFAULT_COLLATION>USING_NLS_COMP</DEFAULT_COLLATION>\n      <PHYSICAL_PROPERTIES>\n         <HEAP_TABLE></HEAP_TABLE>\n      </PHYSICAL_PROPERTIES>\n   </RELATIONAL_TABLE>\n</TABLE>"}