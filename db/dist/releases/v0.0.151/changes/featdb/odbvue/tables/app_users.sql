-- liquibase formatted sql
-- changeset ODBVUE:1763119014498 stripComments:false  logicalFilePath:featdb\odbvue\tables\app_users.sql
-- sqlcl_snapshot db/src/database/odbvue/tables/app_users.sql:null:e8a0c11f04aa7e297a6fc88bea42b0e31c800096:create

CREATE TABLE odbvue.app_users (
    id       NUMBER(19, 0) GENERATED BY DEFAULT AS IDENTITY NOT NULL ENABLE,
    uuid     CHAR(32 CHAR) DEFAULT lower(sys_guid()) NOT NULL ENABLE,
    status   CHAR(1 CHAR) DEFAULT 'N' NOT NULL ENABLE,
    username VARCHAR2(240 CHAR) NOT NULL ENABLE,
    password VARCHAR2(240 CHAR) NOT NULL ENABLE,
    fullname VARCHAR2(240 CHAR) NOT NULL ENABLE,
    created  TIMESTAMP(6) DEFAULT systimestamp NOT NULL ENABLE,
    attempts NUMBER(10, 0) DEFAULT 0 NOT NULL ENABLE,
    accessed TIMESTAMP(6)
);

ALTER TABLE odbvue.app_users
    ADD CONSTRAINT csc_app_users_status
        CHECK ( status IN ( 'A', 'D', 'N' ) ) ENABLE;

ALTER TABLE odbvue.app_users ADD PRIMARY KEY ( id )
    USING INDEX ENABLE;

ALTER TABLE odbvue.app_users ADD UNIQUE ( uuid )
    USING INDEX ENABLE;

