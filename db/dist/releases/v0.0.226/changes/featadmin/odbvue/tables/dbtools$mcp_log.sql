-- liquibase formatted sql
-- changeset ODBVUE:1764755056379 stripComments:false  logicalFilePath:featadmin\odbvue\tables\dbtools$mcp_log.sql
-- sqlcl_snapshot db/src/database/odbvue/tables/dbtools$mcp_log.sql:null:287fe133dfd8f2b06389e48096c8fc3293426dda:create

CREATE TABLE odbvue.dbtools$mcp_log (
    id             NUMBER GENERATED BY DEFAULT AS IDENTITY NOT NULL ENABLE,
    mcp_client     VARCHAR2(200 BYTE) NOT NULL ENABLE,
    model          VARCHAR2(200 BYTE),
    end_point_type VARCHAR2(12 BYTE),
    end_point_name VARCHAR2(100 BYTE) NOT NULL ENABLE,
    log_message    CLOB DEFAULT NULL,
    created_on     TIMESTAMP(6) DEFAULT current_timestamp NOT NULL ENABLE,
    created_by     VARCHAR2(100 BYTE) DEFAULT user NOT NULL ENABLE,
    updated_on     TIMESTAMP(6) DEFAULT current_timestamp,
    updated_by     VARCHAR2(100 BYTE) DEFAULT user
);

ALTER TABLE odbvue.dbtools$mcp_log
    ADD
        CHECK ( end_point_type IN ( 'tool', 'prompt', 'resource', 'sample', 'root',
                                    'transport' ) ) ENABLE;

ALTER TABLE odbvue.dbtools$mcp_log ADD PRIMARY KEY ( id )
    USING INDEX ENABLE;

